{"ast":null,"code":"import taken from './../assets/sluiksort-taken.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../ngx-location-viewer/src/lib/components/ngx-location-viewer.component\";\nfunction AppComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"pre\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"json\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Aantal resultaten: \", ctx_r0.result.length, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, ctx_r0.result.slice(0, 10)));\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.geoApiBaseUrl = 'https://geoapi-app1-o.antwerpen.be/v2/';\n      this.showLayerManagement = true;\n      this.supportingLayerOptions = {\n        url: 'https://geodata.antwerpen.be/arcgissql/rest/services/P_ToK/P_Tok_routeweek/Mapserver',\n        layerIds: [143, 144, 145, 146, 147]\n      };\n      this.operationalLayerOptions = {\n        name: 'taken',\n        isVisible: true,\n        markers: taken._embedded.tasks.filter(x => x.locationDuringAssignment.xCoordinate !== null && x.locationDuringAssignment.xCoordinate !== '').map(x => {\n          const marker = {\n            data: x,\n            icon: x.icon,\n            coordinate: {\n              lat: +x.locationDuringAssignment.xCoordinate,\n              lon: +x.locationDuringAssignment.yCoordinate\n            },\n            color: \"#000000\",\n            size: \"20px\"\n          };\n          return marker;\n        }),\n        enableClustering: true\n      };\n      this.filterLayers = [{\n        url: 'https://geodata.antwerpen.be/arcgissql/rest/services/P_ToK/P_Tok_routeweek/Mapserver',\n        layerId: 78,\n        name: 'Routes',\n        popupLabel: 'Routenaam',\n        propertyToDisplay: 'Routenaam'\n      }, {\n        url: 'https://geoint.antwerpen.be/arcgissql/rest/services/P_Stad/grenzen/MapServer',\n        layerId: 4\n      }];\n    }\n    // supportingLayerOptions: SupportingLayerOptions = {\n    //   url: 'https://geoint.antwerpen.be/arcgissql/rest/services/P_Stad/Mobiliteit/Mapserver',\n    //   layerIds: [38, 42, 65]\n    // };\n    ngOnInit() {}\n    updateResult(result) {\n      this.result = result;\n    }\n    changeSettings() {\n      this.supportingLayerOptions = {\n        url: 'https://geodata.antwerpen.be/arcgissql/rest/services/P_ToK/P_Tok_routeweek/Mapserver',\n        layerIds: [143, 144, 147]\n      };\n      this.operationalLayerOptions = {\n        url: 'https://geoint.antwerpen.be/arcgissql/rest/services/P_Stad/Mobiliteit/Mapserver',\n        layerId: 2,\n        enableClustering: false\n      };\n    }\n    onClickOperationalMarker(event) {\n      console.log(event);\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 9,\n    vars: 6,\n    consts: [[1, \"u-container\"], [1, \"u-margin-top\", \"u-margin-bottom\"], [1, \"h5\", \"u-margin-bottom\"], [1, \"u-bg-light\", \"u-margin-top\", \"u-margin-bottom\"], [3, \"geoApiBaseUrl\", \"showLayerManagement\", \"supportingLayerOptions\", \"operationalLayerOptions\", \"filterLayers\", \"filteredResult\", \"markerClicked\"], [\"aria-label\", \"Change configuration\", 1, \"a-button\", 3, \"click\"], [4, \"ngIf\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Location Viewer Widget\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"aui-location-viewer\", 4);\n        i0.ɵɵlistener(\"filteredResult\", function AppComponent_Template_aui_location_viewer_filteredResult_5_listener($event) {\n          return ctx.updateResult($event);\n        })(\"markerClicked\", function AppComponent_Template_aui_location_viewer_markerClicked_5_listener($event) {\n          return ctx.onClickOperationalMarker($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_6_listener() {\n          return ctx.changeSettings();\n        });\n        i0.ɵɵtext(7, \"Change configuration\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, AppComponent_div_8_Template, 6, 4, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"geoApiBaseUrl\", ctx.geoApiBaseUrl)(\"showLayerManagement\", ctx.showLayerManagement)(\"supportingLayerOptions\", ctx.supportingLayerOptions)(\"operationalLayerOptions\", ctx.operationalLayerOptions)(\"filterLayers\", ctx.filterLayers);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.result);\n      }\n    },\n    dependencies: [i1.NgIf, i2.NgxLocationViewerComponent, i1.JsonPipe]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}