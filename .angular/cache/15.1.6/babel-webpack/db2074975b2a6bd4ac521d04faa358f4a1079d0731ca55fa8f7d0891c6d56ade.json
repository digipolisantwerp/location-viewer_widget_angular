{"ast":null,"code":"import { EventEmitter, SimpleChanges } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { isEqual } from 'lodash-es';\nimport { LayerTypes } from '../../../types/layer-types.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@acpaas-ui/ngx-icon\";\nimport * as i5 from \"../layer-legend/layer-legend.component\";\nfunction LayerComponent_div_1_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r3.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.layer == null ? null : ctx_r3.layer.name);\n  }\n}\nfunction LayerComponent_div_1_button_6_aui_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"aui-icon\", 15);\n  }\n}\nfunction LayerComponent_div_1_button_6_aui_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"aui-icon\", 16);\n  }\n}\nfunction LayerComponent_div_1_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function LayerComponent_div_1_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.open = !ctx_r8.open);\n    });\n    i0.ɵɵtemplate(1, LayerComponent_div_1_button_6_aui_icon_1_Template, 1, 0, \"aui-icon\", 13);\n    i0.ɵɵtemplate(2, LayerComponent_div_1_button_6_aui_icon_2_Template, 1, 0, \"aui-icon\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.open);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.open);\n  }\n}\nfunction LayerComponent_div_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 17);\n  }\n}\nfunction LayerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, LayerComponent_div_1_img_1_Template, 1, 2, \"img\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6)(3, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function LayerComponent_div_1_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.layer.visible = $event);\n    })(\"change\", function LayerComponent_div_1_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onChangeVisibility());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, LayerComponent_div_1_button_6_Template, 3, 2, \"button\", 9);\n    i0.ɵɵtemplate(7, LayerComponent_div_1_div_7_Template, 1, 0, \"div\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.layer == null ? null : ctx_r0.layer.legend == null ? null : ctx_r0.layer.legend.length) === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"layer-\", ctx_r0.layer == null ? null : ctx_r0.layer.id, \"\")(\"name\", \"layer-\", ctx_r0.layer == null ? null : ctx_r0.layer.id, \"\");\n    i0.ɵɵproperty(\"checked\", ctx_r0.layer == null ? null : ctx_r0.layer.visible)(\"ngModel\", ctx_r0.layer.visible);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"layer-\", ctx_r0.layer == null ? null : ctx_r0.layer.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.layer == null ? null : ctx_r0.layer.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showLayers() || ctx_r0.showLegend());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.layer == null ? null : ctx_r0.layer.isLoading) === true);\n  }\n}\nfunction LayerComponent_div_2_aui_layer_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"aui-layer\", 20);\n    i0.ɵɵlistener(\"layerVisibiltyChange\", function LayerComponent_div_2_aui_layer_1_Template_aui_layer_layerVisibiltyChange_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onChangeVisibility());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const childLayer_r14 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"layer\", childLayer_r14)(\"layerType\", ctx_r13.layerType);\n  }\n}\nfunction LayerComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, LayerComponent_div_2_aui_layer_1_Template, 1, 2, \"aui-layer\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.layer == null ? null : ctx_r1.layer.layers);\n  }\n}\nfunction LayerComponent_div_3_aui_layer_legend_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"aui-layer-legend\", 23);\n  }\n  if (rf & 2) {\n    const layerLegend_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"layerLegend\", layerLegend_r18);\n  }\n}\nfunction LayerComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, LayerComponent_div_3_aui_layer_legend_1_Template, 1, 1, \"aui-layer-legend\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.layer == null ? null : ctx_r2.layer.legend);\n  }\n}\nexport let LayerComponent = /*#__PURE__*/(() => {\n  class LayerComponent {\n    constructor(domSanitizer) {\n      this.domSanitizer = domSanitizer;\n      this.layerVisibiltyChange = new EventEmitter();\n      this.open = true;\n    }\n    ngOnChanges(changes) {\n      // tslint:disable-next-line: forin\n      for (const propName in changes) {\n        const change = changes[propName];\n        if (!isEqual(change.previousValue, change.currentValue)) {\n          switch (propName) {\n            case 'layer':\n              this.initImageUrl();\n              break;\n            default:\n              break;\n          }\n        }\n      }\n    }\n    showLayers() {\n      return this.layer && this.layer.layers && this.layer.layers.length > 0;\n    }\n    showLegend() {\n      return this.layer && this.layer.legend && this.layer.legend.length > 1;\n    }\n    onChangeVisibility() {\n      this.layerVisibiltyChange.emit(this.layerType);\n    }\n    initImageUrl() {\n      if (this.layer && this.layer.legend && this.layer.legend.length === 1) {\n        this.imageUrl = this.domSanitizer.bypassSecurityTrustUrl(`data: ${this.layer.legend[0].contentType};base64, ${this.layer.legend[0].imageData}`);\n      }\n    }\n  }\n  LayerComponent.ɵfac = function LayerComponent_Factory(t) {\n    return new (t || LayerComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n  };\n  LayerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LayerComponent,\n    selectors: [[\"aui-layer\"]],\n    inputs: {\n      layer: \"layer\",\n      layerType: \"layerType\"\n    },\n    outputs: {\n      layerVisibiltyChange: \"layerVisibiltyChange\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"u-margin-top-xs\", \"u-margin-left-xs\"], [\"class\", \"a-input\", 4, \"ngIf\"], [\"class\", \"u-margin-left-xs\", 4, \"ngIf\"], [\"class\", \"u-margin-left\", 4, \"ngIf\"], [1, \"a-input\"], [\"class\", \"layer__icon\", 3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"a-input__checkbox\"], [\"type\", \"checkbox\", 3, \"id\", \"name\", \"checked\", \"ngModel\", \"ngModelChange\", \"change\"], [3, \"for\"], [\"class\", \"layer__toggle u-margin-left-xs layer__reveal\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"a-spinner a-spinner--sm\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"layer__icon\", 3, \"src\", \"alt\"], [1, \"layer__toggle\", \"u-margin-left-xs\", \"layer__reveal\", 3, \"click\"], [\"name\", \"ai-arrow-up-1\", 4, \"ngIf\"], [\"name\", \"ai-arrow-down-1\", 4, \"ngIf\"], [\"name\", \"ai-arrow-up-1\"], [\"name\", \"ai-arrow-down-1\"], [\"role\", \"alert\", 1, \"a-spinner\", \"a-spinner--sm\"], [1, \"u-margin-left-xs\"], [3, \"layer\", \"layerType\", \"layerVisibiltyChange\", 4, \"ngFor\", \"ngForOf\"], [3, \"layer\", \"layerType\", \"layerVisibiltyChange\"], [1, \"u-margin-left\"], [3, \"layerLegend\", 4, \"ngFor\", \"ngForOf\"], [3, \"layerLegend\"]],\n    template: function LayerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, LayerComponent_div_1_Template, 8, 9, \"div\", 1);\n        i0.ɵɵtemplate(2, LayerComponent_div_2_Template, 2, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, LayerComponent_div_3_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.layer);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.open && ctx.showLayers() && (ctx.layer == null ? null : ctx.layer.layers));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.open && ctx.showLegend() && (ctx.layer == null ? null : ctx.layer.legend));\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.IconComponent, LayerComponent, i5.LayerLegendComponent],\n    styles: [\"[_ngcontent-%COMP%]:root{--theme1-600: #002855;--theme1-500: #003865;--theme1-400: #0057b7;--theme1-300: #009cde;--theme1-200: #41b6e6;--theme1-100: #99d6ea;--theme1-075: #96b5e4;--theme1-050: #e0ebf6;--theme2-600: #7c2629;--theme2-500: #862633;--theme2-400: #cf0039;--theme2-300: #df4661;--theme2-200: #ffb1bb;--theme2-100: #f5dadf;--success-700: #004721;--success-600: #006e33;--success-500: #4c8d2b;--success-400: #6cc24a;--success-300: #97d700;--success-200: #bce194;--success-100: #d0debb;--success-050: #edf8e9;--warning-500: #8f3400;--warning-400: #ce4c00;--warning-050: #ffe4d6;--danger-600: #7c2629;--danger-500: #af272f;--danger-400: #e03c31;--danger-300: #e56a54;--danger-200: #e6baa8;--danger-100: #f3cfb3;--danger-050: #fbe8e6;--text-color: #000;--text-color-light: #6f6f6f;--text-color-xlight: #fff;--bg-color: #d8d8d8;--bg-color-light: #f3f3f3;--border-color: #949494;--overlay-color: rgba(0, 0, 0, .75);--box-shadow-color: rgba(20, 20, 20, .12);--state-info: var(--theme1-400);--state-success: var(--success-600);--state-warning: var(--warning-400);--state-danger: var(--danger-500);--state-disabled: #6f6f6f;--spacer: 1.5rem;--spacer-3xl: calc(var(--spacer) * 4);--spacer-xxl: calc(var(--spacer) * 2.5);--spacer-xl: calc(var(--spacer) * 2);--spacer-l: calc(var(--spacer) * 1.5);--spacer-s: calc(var(--spacer) / 1.5);--spacer-xs: calc(var(--spacer) / 2);--spacer-xxs: calc(var(--spacer) / 3);--spacer-3xs: calc(var(--spacer) / 6);--screen-xs: 30rem;--screen-s: 45rem;--screen-l: 62rem;--screen-xl: 75rem;--screen-xxl: calc(var(--screen-xl) + calc(var(--spacer-3xl) * 2) + calc(var(--spacer) * 2));--screen-xs-max: 44.9375rem;--screen-s-max: 61.9375rem;--screen-l-max: 74.9375rem;--screen-xl-max: 89.9375rem;--font-family-base: \\\"Sun Antwerpen\\\", sans-serif;--font-family-headings: \\\"Antwerpen Regular\\\", sans-serif;--font-family-monospace: \\\"Menlo\\\", \\\"Monaco\\\", \\\"Consolas\\\", \\\"Courier New\\\", monospace;--font-weight-light: 300;--font-weight-normal: 500;--font-weight-bold: 700;--font-weight-extra-bold: 800;--font-weight-h1: var(--font-weight-normal);--font-weight-h2: var(--font-weight-normal);--font-weight-h3: var(--font-weight-normal);--font-weight-h4: var(--font-weight-normal);--font-weight-h5: var(--font-weight-normal);--font-weight-h6: var(--font-weight-normal);--link-color: var(--theme1-400);--link-hover-color: var(--theme1-500);--border-radius: 0;--border-width: 1px;--animation-duration: .2s;--animation-easing: ease-in-out;--animation-normal: var(--animation-duration) var(--animation-easing);--box-shadow-bottom-left: calc(var(--spacer) / -2) calc(var(--spacer) / 2) 0 var(--box-shadow-color);--box-shadow-bottom-right: calc(var(--spacer) / 2) calc(var(--spacer) / 2) 0 var(--box-shadow-color);--box-shadow-upper-left: calc(var(--spacer) / -2) calc(var(--spacer) / -2) 0 var(--box-shadow-color);--box-shadow-upper-right: calc(var(--spacer) / 2) calc(var(--spacer) / -2) 0 var(--box-shadow-color);--box-shadow: var(--box-shadow-bottom-right);--shared-avatar-size-s: var(--spacer-l);--shared-avatar-size: var(--spacer-xl);--shared-avatar-size-l: var(--spacer-xxl);--shared-copyright-color: #fff;--shared-copyright-height: var(--spacer-l);--shared-header-height: var(--spacer-xl);--shared-slideshow-footer-color-light: #fff}.layer__toggle[_ngcontent-%COMP%]{cursor:pointer}.layer__icon[_ngcontent-%COMP%]{left:-1.5rem;position:absolute;top:.125rem}.layer__reveal[_ngcontent-%COMP%]{background:transparent;border:none;color:#141414;padding:0}.a-spinner[_ngcontent-%COMP%]{left:-2rem;position:absolute;top:0rem}.a-input__checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word;word-wrap:break-word}\"]\n  });\n  return LayerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}